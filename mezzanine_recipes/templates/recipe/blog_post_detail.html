{% overextends "blog/blog_post_detail.html" %}

{% load mezzanine_tags recipe_tags i18n %}

{% block blog_post_detail_featured_image %}
    {% if blog_post.featured_image %}
        <p><img src="{{ MEDIA_URL }}{% thumbnail blog_post.featured_image 670 0 %}"></p>
    {% endif %}
{% endblock %}

{% block extension_1 %}
{{ block.super }}
    {% block recipe_summary %}
        {% if page.recipe.summary %}
            <div class="well well-small">
                {% editable page.recipe.summary %}<h3>{{ page.recipe.summary }}</h3>{% endeditable %}
            </div>
        {% endif %}
    {% endblock %}
{% endblock %}


{% block extension_2 %}
{{ block.super }}
{% block recipe_hero %}
<div class="hero-unit">

    {% block recipe_ingredients %}
    {% if blog_post.ingredients.count %}
        <dl class="dl-horizontal ingredients">
            <h4><dt>{% trans 'Ingredients' %}:</dt></h4>
            {% for ingredient in blog_post.ingredients.all %}
                <dd>{{ ingredient.quantity }} {% get_unit_name ingredient %} {{ ingredient }} {{ ingredient.note }}</dd>
            {% endfor %}
        </dl>
    {% endif %}
    {% endblock %}

    {% block recipe_portions %}
    {% if blog_post.portions %}
        {% editable blog_post.portions %}
            <dl class="dl-horizontal">
                <h4><dt>{% trans 'Portions' %}:</dt></h4>
                <dd>{{ blog_post.portions }}</dd>
            </dl>
        {% endeditable %}
    {% endif %}
    {% endblock %}

    {% block recipe_difficulty %}
    {% if blog_post.difficulty %}
        {% editable blog_post.difficulty %}
            <dl class="dl-horizontal">
                <h4><dt>{% trans 'Difficulty' %}:</dt></h4>
                <dd>{% get_difficulty_name blog_post %}</dd>
            </dl>
        {% endeditable %}
    {% endif %}
    {% endblock %}

    {% block recipe_working_hours %}
    {% if blog_post.working_hours %}
        <dl class="dl-horizontal">
            <h4><dt>{% trans 'Working Hours' %}:</dt></h4>
            <dd>{% get_time_period blog_post.working_hours %} {% trans 'Hours' %}</dd>
        </dl>
    {% endif %}
    {% endblock %}

    {% block recipe_cooking_time %}
    {% if blog_post.cooking_time %}
        <dl class="dl-horizontal">
            <h4><dt>{% trans 'Cooking Time' %}:</dt></h4>
            <dd>{% get_time_period blog_post.cooking_time %} {% trans 'Hours' %}</dd>
        </dl>
    {% endif %}
    {% endblock %}

    {% block recipe_rest_period %}
    {% if blog_post.rest_period %}
        <dl class="dl-horizontal">
            <h4><dt>{% trans 'Rest Period' %}:</dt></h4>
            <dd>{% get_time_period blog_post.rest_period %} {% trans 'Days' %}</dd>
        </dl>
    {% endif %}
    {% endblock %}

</div>
{% endblock %}
{% endblock %}

